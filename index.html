<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>vuejs2rumentg</title>
</head>
<style>
  #app{
    font-family:LED;
    font-size:60px;
    letter-spacing:10px;
  }

</style>
<body>
<div id="app"></div>

<!-- built files will be auto injected -->
<script src="static/lib/vue.js"></script>
<script>
  var EzVue = function(options){
    var self = this;
    var keys = Object.keys(options.data);
    this._data = {};
    keys.forEach(function(key){
      Object.defineProperty(self,key,{
        enumerable:true,
        configurable:true,
        get:function(){
          return self['_data'][key];
        },
        set:function(v){
          self['_data'][key] = v;
          options.changed && options.changed.call(this,key,v)
        }
      })
      self[key] = options.data[key];
    })
    options.created && options.created.call(this);
  }

  new EzVue({
    data: {
      counter:123,
    },
    changed: function(key,v){
      var el = document.querySelector('#app');
      el.textContent = v;
    },
    created:function(){
      setInterval(function(){
        this.counter++;
      }.bind(this),1000)
    }
  });
</script>
</body>
</html>
